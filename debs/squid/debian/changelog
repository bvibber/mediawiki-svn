squid (2.6.16-1wm1) edgy; urgency=medium

  * New upstream release 2.6.STABLE16
    - Drop patch 23-storedir-minobjsize, now integrated upstream
    - Drop patch 01-cf.debian, conflicts with upstream changes and serves
      no purpose for Wikimedia use
  * Add a build dependencies on libgoogle-perftools-dev, debhelper and
    devscripts
  * Include HTTP header array repacking patch by Adrian Chadd

 -- Mark Bergsma <mark@wikimedia.org>  Mon, 19 Nov 2007 10:40:15 +0000

squid (2.6.13-1wm1) edgy; urgency=low

  * New upstream version 2.6.STABLE13
    - Dropped patch 24-coss-rebuild-meta-key-length, included upstream

 -- Mark Bergsma <mark@wikimedia.org>  Tue, 12 Jun 2007 18:31:13 +0000

squid (2.6.12-1wm6) edgy; urgency=low

  * Increase default nr of FDs to 32768 in squid-frontend

 -- Mark Bergsma <mark@wikimedia.org>  Thu, 19 Apr 2007 11:01:18 +0000

squid (2.6.12-1wm5) edgy; urgency=low

  * Add support for min-size cache_dir option

 -- Mark Bergsma <mark@wikimedia.org>  Sun, 15 Apr 2007 13:37:00 +0000

squid (2.6.12-1wm4) edgy; urgency=low

  * Update COSS rebuild patch to not assert on other wrong tlv lengths.

 -- Mark Bergsma <mark@wikimedia.org>  Mon, 26 Mar 2007 08:21:39 +0000

squid (2.6.12-1wm3) edgy; urgency=low

  * Patch COSS to not write to the swap log, as it's unneeded and has bugs.
  * Include Tim's forgotten Vary invalidation fixes

 -- Mark Bergsma <mark@wikimedia.org>  Sun, 25 Mar 2007 17:05:47 +0000

squid (2.6.12-1wm2) edgy; urgency=low

  * Patch COSS to not crash on xassert(t->length == MD5_DIGEST_CHARS) in
    the COSS rebuild code, just log and ignore the object instead.
  * Set IPC flag on UDP logging socket, so Squid doesn't close it prematurely.

 -- Mark Bergsma <mark@wikimedia.org>  Sat, 24 Mar 2007 19:59:34 +0000

squid (2.6.12-1wm1) edgy; urgency=low

  * New upstream version
    - COSS shutdown bug patch has been integrated upstream, dropped (#1892)
    - Update COSS invalidation patch
  * Make the squid-frontend subpackage architecture independent

 -- Mark Bergsma <mark@wikimedia.org>  Sat, 24 Mar 2007 14:19:07 +0000

squid (2.6.9-1wm5) edgy; urgency=low

  * Added squid-frontend package

 -- Tim Starling <tstarling@wikimedia.org>  Wed,  7 Mar 2007 23:16:30 +0000

squid (2.6.9-1wm4) edgy; urgency=low

  * Bug fix in variant invalidation

 -- Tim Starling <tstarling@wikimedia.org>  Mon, 26 Feb 2007 17:24:34 +0000

squid (2.6.9-1wm3) edgy; urgency=low

  * Variant invalidation patch
  * Updated UDP logging patch to fix shutdown bug
  * Applied patch for bug 1892 by Guido Serassio
  * Updated error messages

 -- Tim Starling <tstarling@wikimedia.org>  Wed, 21 Feb 2007 14:57:34 +0000

squid (2.6.9-1wm2) edgy; urgency=low

  * Fixed custom error message build rule

 -- Tim Starling <tstarling@wikimedia.org>  Tue, 30 Jan 2007 17:44:02 +0000

squid (2.6.9-1wm1) edgy; urgency=low

  * Updated to 2.6.9

 -- Tim Starling <tstarling@wikimedia.org>  Wed, 24 Jan 2007 03:37:42 +0000

squid (2.6.7+20070121+1209-1wm1) edgy; urgency=low

  * Updated to 2.6.8 release candidate

 -- Tim Starling <tstarling@wikimedia.org>  Sun, 21 Jan 2007 18:23:14 +0000

squid (2.6.7-1wm4) edgy; urgency=low

  * Fixed EAGAIN issue in pipe logging
  * Added UDP logging

 -- Tim Starling <tstarling@wikimedia.org>  Sat, 20 Jan 2007 00:30:22 +0000

squid (2.6.7-1wm3) edgy; urgency=low

  * Added pipe logging patch
  * Added log2udp_wm helper script

 -- Tim Starling <tstarling@wikimedia.org>  Wed, 17 Jan 2007 02:11:40 +0000

squid (2.6.7-1wm2) edgy; urgency=low

  * Raise max FD limit to 64k, default stays the same at 16k

 -- Mark Bergsma <mark@wikimedia.org>  Mon, 15 Jan 2007 21:35:15 +0000

squid (2.6.7-1wm1) edgy; urgency=low

  * New upstream release
    - Remove patches 10-htcp-xassert, 10-coss-rebuild

 -- Mark Bergsma <mark@wikimedia.org>  Mon, 15 Jan 2007 19:53:21 +0000

squid (2.6.5-1wm6) edgy; urgency=low

  * Build against Google's tcmalloc to solve memory fragmentation issues
  * Actually pass CFLAGS on to ./configure so they get used

 -- Mark Bergsma <mark@wikimedia.org>  Wed,  6 Dec 2006 20:50:09 +0000

squid (2.6.5-1wm5) edgy; urgency=low

  * Insert a 'ulimit -c unlimited' in the startup script, so Squid dumps core

 -- Mark Bergsma <mark@wikimedia.org>  Thu, 30 Nov 2006 23:52:52 +0000

squid (2.6.5-1wm4) edgy; urgency=low

  * Do not build with GNU regexes, as this seems to be the major
    cause for malloc() cpu load due to memory fragmentation
  * Clean all COSS cache dirs in parallel

 -- Mark Bergsma <mark@wikimedia.org>  Wed, 29 Nov 2006 13:39:40 +0000

squid (2.6.5-1wm3) edgy; urgency=low

  * Fix 'dd' line in initscript 'clean'

 -- Mark Bergsma <mark@wikimedia.org>  Mon, 13 Nov 2006 16:19:30 +0000

squid (2.6.5-1wm2) edgy; urgency=low

  * Include a proposed patch for squid bug #1818, COSS rebuild crashes
  * Never strip binaries

 -- Mark Bergsma <mark@wikimedia.org>  Sun,  5 Nov 2006 14:12:13 +0000

squid (2.6.5-1wm1) edgy; urgency=medium

  * New upstream version 2.6.STABLE5
  * Include patch fixing http://www.squid-cache.org/bugs/show_bug.cgi?id=1817
  * Include a 'clean' initscript option that cleans all COSS dirs with nulls
  * Fix error message in initscript when no COSS cache dirs are defined

 -- Mark Bergsma <mark@wikimedia.org>  Sat,  4 Nov 2006 13:58:55 +0000

squid (2.6.4-2wm3) dapper; urgency=low

  * Install /etc/default/squid as a conffile, not in postinst

 -- Mark Bergsma <mark@wikimedia.org>  Tue, 24 Oct 2006 14:59:45 +0000

squid (2.6.4-2wm2) dapper; urgency=low

  * Use 16384 FDs by default
  * Disable nozerobufs patch, as it may be the cause for crashes

 -- Mark Bergsma <mark@wikimedia.org>  Tue, 24 Oct 2006 14:44:24 +0000

squid (2.6.4-2wm1) dapper; urgency=low

  * Incorporate Debian package changes:
    - Added DEB_BUILD_OPTIONS dependent optimization and install options,
      allowing for easy builing of unstripped binary packages as per Policy
      10.1. (Closes: #384616)
  * Build with --enable-stacktraces
  * COSS preparation:
    - Remove the time consuming and likely useless dd
    - chgrp $gid COSS files on every Squid start, as they get reset on boot

 -- Mark Bergsma <mark@wikimedia.org>  Sun, 15 Oct 2006 18:05:05 +0000

squid (2.6.4-1wm5) dapper; urgency=low

  * Change the init.d script to not use the executable file on
    stops, as this doesn't work on upgrades when the executable has
    been replaced by a newer one. Verify the process name instead.
  * Do not prepare COSS files on a restart

 -- Mark Bergsma <mark@wikimedia.org>  Thu, 12 Oct 2006 21:36:57 +0000

squid (2.6.4-1wm4) unstable; urgency=low

  * Fix bug in initscript COSS preparation

 -- Mark Bergsma <mark@wikimedia.org>  Tue, 10 Oct 2006 23:08:33 +0000

squid (2.6.4-1wm3) unstable; urgency=low

  * Don't install /etc/squid/squid.conf
  * Prepare COSS files on startup by emptying them
  * chdir to /var/spool/squid instead of any cache_dir

 -- Mark Bergsma <mark@wikimedia.org>  Tue, 10 Oct 2006 20:26:05 +0000

squid (2.6.4-1wm2) unstable; urgency=low

  * Include an experimental patch by Adrian Chadd that prevents Squid
    from uselessly bzero()ing new buffers, in order to save CPU.

 -- Mark Bergsma <mark@wikimedia.org>  Mon, 25 Sep 2006 13:49:01 +0000

squid (2.6.4-1wm1) unstable; urgency=low

  * New upstream release
  * Update control file with build-depends, maintainer and description
  * Build with a maximum of 16384 FDs, still set to 8129 by default
  * Build with aufs, ufs, diskd, null and coss store methods

 -- Mark Bergsma <mark@wikimedia.org>  Mon, 25 Sep 2006 12:55:30 +0000

squid (2.6.3-1wm1) unstable; urgency=low

  * Adapt to Wikimedia needs
    - 8192 FDs by default
    - Wikimedia error pages
    - No mangling of request headers on server side requests

 -- Mark Bergsma <mark@wikimedia.org>  Sun, 17 Sep 2006 20:00:49 +0000

squid (2.6.3-1) unstable; urgency=low

  * New upstream release (Closes: #383763)
 
  * debian/control
    - Update Build-Depend on libdb4.4-dev

 -- Luigi Gangitano <luigi@debian.org>  Tue, 22 Aug 2006 19:34:59 +0200

squid (2.6.2-1) unstable; urgency=low

  * New upstream release
    - Removed patches that have been integrated upstream:
      + debian/patches/49-xstrdup
      + debian/patches/48-kfreebsd-kqueue
    - Fixes 100% CPU usage on diskd fail (Closes: #380181)
    - Fixes error on double definition of redirectors (Closes: #370108)

  * debian/doc/FAQ*
    - Updated FAQs

 -- Luigi Gangitano <luigi@debian.org>  Wed,  2 Aug 2006 03:02:07 +0200


squid (2.6.1-4) unstable; urgency=low

  * debian/control
    - Added Replace: to squid-common (Closes: #379101)
    - Removed the old squid-common Conflicts: statement on squid

  * debian/patches/49-xstrdup
    - Added upstream patch that fixes an error on XSTRDUP
      (Closes: #379586)

 -- Luigi Gangitano <luigi@debian.org>  Thu, 27 Jul 2006 01:45:00 +0200


squid (2.6.1-3) unstable; urgency=low

  * debian/patches/48-kfreebsd-kqueue
    - Added user interface for kqueue() on GNU/kFreeBSD (Thanks to Petr
      Salinger) (Closes: #377873)

  * debian/rules
    - Disabled IPF support on GNU/kFreeBSD
    - Install RELEASENOTES.html in /usr/share/doc

  * debian/NEWS.Debian
    - Added notice on changes to configuration file and reference to the
      RELEASENOTES.html file (Closes: #377950)

 -- Luigi Gangitano <luigi@debian.org>  Wed, 12 Jul 2006 15:11:08 +0200


squid (2.6.1-2) unstable; urgency=low

  * debian/control
    - Added missing Build-Depends on libdb4.3-dev (Closes: #377473)

 -- Luigi Gangitano <luigi@debian.org>  Sun,  9 Jul 2006 13:22:55 +0200

squid (2.6.1-1) unstable; urgency=low

  * New upstream version
    - removed patches that have been integrated upstream:
      debian/patches/47-httpreplydestroy.dpatch

  * debian/rules
    - Removed build time upgrade of autoconf since config.{sub,guess} has been
      updated upstream
    - Enabled epoll() support on Linux and Kqueue support on KFreeBSD
    - Enabled Linux TPROXY support for totally transparent proxy support
    - Removed Winbind-based helpers building. Winbind is not supported 
      upstream anymore
    - Moved documentation to squid-common

  * debian/postinst
    - Fix configuration file for missing http_port directive

 -- Luigi Gangitano <luigi@debian.org>  Mon,  3 Jul 2006 14:35:26 +0200

squid (2.5.14-2) unstable; urgency=low

  * debian/control
    - Remove dependency on webmin-squid which is not in the archive anymore
    - Bumped Standards-Version to 3.7.2 (no change required)

 -- Luigi Gangitano <luigi@debian.org>  Wed, 14 Jun 2006 14:44:40 +0200

squid (2.5.14-1) unstable; urgency=low

  * New upstream release

  * debian/patches/47-httpreplydestroy
    - Added upstream patch fixing assertion failure in HttpReply.c

  * debian/{prerm,postinst}
    - Make squid restart in postinst instead of stopping in prerm
      (Closes: #252467)

 -- Luigi Gangitano <luigi@debian.org>  Fri,  9 Jun 2006 17:51:16 +0200

squid (2.5.13-2) unstable; urgency=low

  * debian/{rules,control}
    - Added build-time upgrade of config.{guess,sub} for GNU/kFreeBSD
      (Closes: #365211)

  * debian/po/ca.po
     - Added Catalan debconf translation thanks to Miguel Gea Milvaques
       (Closes: #365412)

 -- Luigi Gangitano <luigi@debian.org>  Mon,  8 May 2006 20:22:47 +0200

squid (2.5.13-1) unstable; urgency=low

  * New upstream release

 -- Luigi Gangitano <luigi@debian.org>  Sun, 19 Mar 2006 01:19:36 +0100

squid (2.5.12-4) unstable; urgency=low

  * The "Required is not essential" release

  * debian/control
    - Added dependency on lsb-base (Closes: #347800, #347537)

 -- Luigi Gangitano <luigi@debian.org>  Mon, 16 Jan 2006 07:21:55 +0100

squid (2.5.12-3) unstable; urgency=low

  * Rebuilt to fix missing .diff.gz file (Closes: #344404)

  * debian/squid.rc
    - Fixed use of literal value (Closes: #344382)

 -- Luigi Gangitano <luigi@debian.org>  Wed, 28 Dec 2005 17:30:49 +0100

squid (2.5.12-2) unstable; urgency=low

  * debian/control
    - Removed circular dependency of squid-common on squid (Closes: #339904)
    - Removed dependency on stat

  * debian/squid.rc
    - Converted to use lsb init functions

 -- Luigi Gangitano <luigi@debian.org>  Tue, 20 Dec 2005 20:45:11 +0100

squid (2.5.12-1) unstable; urgency=low

  * New upstream release
    - removed patches that have been integrated upstream:
      debian/patches/43-stathist-assert
      debian/patches/44-sslconnect-segfault
      debian/patches/45-store-assert
      debian/patches/46-ntlm-scheme-assert

  * debian/rules
    - Added debconf-updatepo in clean rule (Closes: #335542)

  * debian/po/fr.po
    - Updated French debconf translation, thanks to Michel Grentzinger
      (Closes: #337055)

  * debian/po/sv.po
    - Added Swedish debconf translation, thanks to Daniel Nylander
      (Closes: #330273)

 -- Luigi Gangitano <luigi@debian.org>  Wed,  2 Nov 2005 14:29:51 +0100

squid (2.5.10-8) unstable; urgency=low

  * debian/changelog
    - Fixed really old entries (1996) and make lintian happy

  * debian/copyright
    - Fixed FSF address in copyright

  * debian/control
    - Bumped Standards-Version to 3.6.2.0, no change needed

 -- Luigi Gangitano <luigi@debian.org>  Fri, 21 Oct 2005 01:58:26 +0200

squid (2.5.10-7) unstable; urgency=high

  * Urgency high due to security issues

  * debian/patches/46-ntlm-scheme-assert
    - Really enable this patch in 00list (thanks to Martin Pitt for pointing
      this out)

 -- Luigi Gangitano <luigi@debian.org>  Fri, 21 Oct 2005 00:42:51 +0200

squid (2.5.10-6) unstable; urgency=low

  * debian/patches/46-ntlm-scheme-assert
    - Added upstream patch to fix potential DoS in NTLM authentication
      (Ref: CAN-2005-2917)

  * debian/control
    - Fixed typo in squid-cgi description (Closes: #327810)

  * debian/patches/
    - Removed patch files integrated upstream

 -- Luigi Gangitano <luigi@debian.org>  Sat, 17 Sep 2005 21:44:53 +0200

squid (2.5.10-5) unstable; urgency=low

  * debian/control
    - Added dependency on debconf-2.0

  * debian/patches/44-sslconnect-segfault
    - Added upstream patch to fix security issue in ssl connection handling
      potentially causing DoS. (Ref. CAN-2005-2796)

  * debian/patches/45-store-assert
    - Added upstream patch to fix security issue in store.c potentially
      causing DoS (Ref. CAN-2005-2794)

 -- Luigi Gangitano <luigi@debian.org>  Thu,  1 Sep 2005 02:01:45 +0200

squid (2.5.10-4) unstable; urgency=low

  * debian/changelog
    - Fixed typos in various lines that caused lintian to scream

 -- Luigi Gangitano <luigi@debian.org>  Fri, 26 Aug 2005 21:35:48 +0200

squid (2.5.10-3) unstable; urgency=low

  * debian/rules
    - Dropped use of DEBIAN_HOST_GNU_{CPU,SYSTEM} since the dpkg transition
      has broken them, preventing the MAXFD limit correction to 4096. Use
      Used DEBIAN_ARCH_{OS,CPU} instead. (Closes: #322526)

  * debian/po/cs.po
    - Added Czech debconf translation thanks to Miroslav Kure
      (Closes: #320369)

 -- Luigi Gangitano <luigi@debian.org>  Fri, 26 Aug 2005 20:37:47 +0200

squid (2.5.10-2) unstable; urgency=low

  * debian/patches/43-stathist-assert
    - Added patch to fix assertion failure in StatHist.c
      (Closes: #310642)

  * debian/po/vi.po
    - Added Vietnamese debconf translation thanks to Clytie Siddall
      (Closes: #318705)

  * debian/po/de.po
    - Fixed path in German translation
      (Closes: #313152)

 -- Luigi Gangitano <luigi@debian.org>  Wed, 20 Jul 2005 01:07:52 +0200

squid (2.5.10-1) unstable; urgency=low

  * New upstream release
    - removed patches that have been integrated upstream:
      debian/patches/05-syslog
      debian/patches/09-enable-large-files
      debian/patches/22-cachemgr-acl
      debian/patches/38-aufs-fixes
      debian/patches/39-notinmemory
      debian/patches/40-acl-error
      debian/patches/41-2GB-assert
      debian/patches/42-dns-query

  * debian/config
    - Fixed check on cache_dir permissions when it is symlinked
      (Closes: #312253)

  * debian/squid.rc
    - Removed unused functions in rc script

  * debian/postinst
    - Added check for statovverrides on log directory
      (Closes: #309634)

 -- Luigi Gangitano <luigi@debian.org>  Thu,  9 Jun 2005 17:41:26 +0200

squid (2.5.9-10) unstable; urgency=high

  * Urgency high to get the translation fix in sarge
  
  * debian/po/ru.po
    - Updated Russian debconf translation (thanks to Yuriy Talakan)
      (Closes: #310038)

 -- Luigi Gangitano <luigi@debian.org>  Sun, 29 May 2005 23:16:50 +0200

squid (2.5.9-9) unstable; urgency=high

  * Urgency high due to security fixes
  
  * debian/patches/41-2GB-assert
    - Added upstream patch to fix assertion failure
      store_client.c:343: "storeSwapOutObjectBytesOnDisk(mem) > sc->copy_offset"

  * debian/patches/42-dns-query
    - Added upstream patch to fix security issue with DNS response spoofing

 -- Luigi Gangitano <luigi@debian.org>  Sat, 14 May 2005 18:41:06 +0200

squid (2.5.9-8) unstable; urgency=medium

  * Urgency medium due to upstream fixes that should go into sarge

  * debian/patches/39-notinmemory
    - Updated upstream patch

 -- Luigi Gangitano <luigi@debian.org>  Sun,  1 May 2005 00:53:00 +0200

squid (2.5.9-7) unstable; urgency=low

  * debian/patches/39-notinmemory
    - Added upstream patch to fix assertion failure
      store_swapin.c:45: "e->mem_status == NOT_IN_MEMORY
      (Closes: #306072)

  * debian/patches/40-acl-error
    - Added upstream patch fixing minor security issue in parsing acls
      (Ref: CAN-2005-1345)

  * debian/patches/22-cachemgr-acl
    - Updated to the upstream patch

  * debian/rules
  	- Install upstream cachemgr.conf instead of the old local one

  * debian/cachemgr.conf
    - Removed local version not used anymore

  * debian/po/ja.po
    - Updated debconf translation (thanks to Kenshi Muto)
      (Closes: #306939)

 -- Luigi Gangitano <luigi@debian.org>  Sat, 30 Apr 2005 12:09:59 +0200

squid (2.5.9-6) unstable; urgency=medium

  * Urgency still medium due to upstream fixes that should go into sarge

  * debian/patches/09-enable-large-files
    - Updated again upstream patch, fixing failed assertion
      store_swapout.c:232: "mem->inmem_lo == 0"
      (Closes: #305387)

 -- Luigi Gangitano <luigi@debian.org>  Thu, 21 Apr 2005 01:21:58 +0200

squid (2.5.9-5) unstable; urgency=medium

  * Urgency still medium due to upstream fixes that should go into sarge

  * debian/patches/09-enable-large-files
    - Updated upstream patch, fixing race condition causing segfault
      (Closes: #305387)

 -- Luigi Gangitano <luigi@debian.org>  Wed, 20 Apr 2005 01:55:42 +0200

squid (2.5.9-4) unstable; urgency=medium

  * Urgency still medium due to upstream fixes that should go into sarge

  * debian/patches/09-enable-large-files
    - Updated upstream patch, fixing crashes with diskd (Closes: #302634)

  * debian/patches/00list
    - Reworked patch order

 -- Luigi Gangitano <luigi@debian.org>  Sun,  3 Apr 2005 01:43:31 +0200

squid (2.5.9-3) unstable; urgency=medium

  * Urgency medium due to upstream fixes that should go into sarge
  
  * debian/patches/09-enable-large-files
    - Substituded with official upstream patch for large file support.
      This patch is definetly better than the one previously used.

  * debian/rules
    - Changed configure option --enable-large-files to --with-large-files

  * debian/patches/38-aufs-fixes
    - Added upstream patch fixing small issues with aufs and enhancing
      performance

 -- Luigi Gangitano <luigi@debian.org>  Fri,  1 Apr 2005 17:19:23 +0200

squid (2.5.9-2) unstable; urgency=medium
  
  * Urgency medium due to small security fix

  * debian/patches/37-setcookie.dpatch
    - Added upstream patchto fix race condition with Set-Cookie headers
      (Closes: #298053)
  
  * debian/watch
    - Re-Updated watch file, this should really work

 -- Luigi Gangitano <luigi@debian.org>  Tue,  8 Mar 2005 04:37:22 +0100

squid (2.5.9-1) unstable; urgency=low

  * New upstream release
    - removed patches that have been integrated upstream:
      debian/patches/30-amd64-gcc40-compile
      debian/patches/36-dns-assert

  * debian/watch
    - Updated watch file, this should work

 -- Luigi Gangitano <luigi@debian.org>  Mon, 28 Feb 2005 03:06:18 +0100

squid (2.5.8-3) unstable; urgency=high

  * Urgency high due security fixes

  * debian/patches/36-dns-assert.dpatch
    - Added upstream patch to fix DoS in DNS reply parsing
      (Ref: CAN-2005-0446)

 -- Luigi Gangitano <luigi@debian.org>  Thu, 17 Feb 2005 01:10:05 +0100

squid (2.5.8-2) unstable; urgency=low

  * debian/squid.rc
    - Added db_stop call before invoke-rc.d (Closes: #294866)

 -- Luigi Gangitano <luigi@debian.org>  Sat, 12 Feb 2005 18:14:34 +0100

squid (2.5.8-1) unstable; urgency=low

  * New upstream release
    - removed patches that have been integrated upstream:
      debian/patches/23-deny-internal-object-purge
      debian/patches/24-gopher-html-parsing
      debian/patches/25-wccp-dos
      debian/patches/26-dns-memleak
      debian/patches/27-ldap-spaces
      debian/patches/28-fakeauth-memleak
      debian/patches/29-fqdn-truncated
      debian/patches/31-wccp-buffer-overflow
      debian/patches/32-response-splitting
      debian/patches/33-header-parsing
      debian/patches/34-oversize-reply-header
      debian/patches/35-empty-acl

    - Fixed 100% CPU usage on half closed PUT/POST requests
      (Closes: #294551)

  * debian/squid.rc
    - Applied patch from Thomas Hood to improve initscript output
      (Closes: #294465)

 -- Luigi Gangitano <luigi@debian.org>  Fri, 11 Feb 2005 18:33:13 +0100

squid (2.5.7-8) unstable; urgency=high

  * Urgency high due security fixes, previous version not yet in sarge and
    this version makes just a litte change to dependencies
  
  * debian/control 
    - Added versioned depends on the same version of squid-common
      (Closes: #293552, #293626)

 -- Luigi Gangitano <luigi@debian.org>  Sat,  5 Feb 2005 01:52:03 +0100

squid (2.5.7-7) unstable; urgency=high

  * Urgency high due security fixes

  * debian/patches/34-oversize-reply-header.dpatch
    - Added upstream patch to correct HTTP protocol mismatch introduced
      by the header-parsing patch
      (Ref: CAN-2005-0241)

  * debian/patches/35-empty-acl.dpatch
    - Added upstream patch to fix minor security issues with 'empty' acls
      (Ref: CAN-2005-0194)

 -- Luigi Gangitano <luigi@debian.org>  Tue,  1 Feb 2005 18:00:16 +0100

squid (2.5.7-6) unstable; urgency=high

  * Urgency high due security fixes

  * debian/patches/01-cf.data.pre
    - Explicitly set hosts_file to /etc/hosts (Closes: #185555)

  * debian/patches/31-wccp-buffer-overflow.dpatch
    - Added upstream patch that fixes BoF in WCCP recvfrom()
      (Ref: CAN-2005-0211)

  * debian/patches/32-response-splitting.dpatch
    - Added upstream patch that fixes HTTP response splitting cache pollution
      (Ref: CAN-2005-0175)

  * debian/patches/33-header-parsing.dpatch
    - Added upstream patch to reject malformed HTTP requests and responses
      (Ref: CAN-2005-0174)

 -- Luigi Gangitano <luigi@debian.org>  Sat, 29 Jan 2005 17:44:49 +0100

squid (2.5.7-5) unstable; urgency=high

  * Urgency high due security fixes

  * Updated references in changelog to CAN advisories

 -- Luigi Gangitano <luigi@debian.org>  Tue, 18 Jan 2005 22:40:19 +0100

squid (2.5.7-4) unstable; urgency=low

  * "A round of upstream patches" release

  * debian/patches/24-gopher-html-parsing
    - Added upstream patch that fixes BoF in gopherToHTML()
      (Ref: CAN-2005-0094)
    
  * debian/patches/25-wccp-dos
    - Added upstream patch that fixes DoS in WCCP message handling
      (Ref: CAN-2005-0095)

  * debian/patches/26-dns-memleak
    - Added upstream patch that fixes memory leak in internal DNS resolver

  * debian/patches/27-ldap-spaces
    - Added upstream patch that fixes minor security issues in LDAP account
      handling
      (Ref: CAN-2005-0173)

  * debian/patches/28-fakeauth-memleak
    - Added upstream patch that fixes memory leak in fakeauth NTLM helper

  * debian/patches/29-fqdn-truncated
    - Added upstream patch that fixes name truncation in compressed DNS
      responses

  * debian/patches/30-amd64-gcc40-compile
    - Added patch to compile squid on AMD64 with GCC-4.0 (Closes: #288542)
  
 -- Luigi Gangitano <luigi@debian.org>  Mon, 17 Jan 2005 18:15:49 +0100

squid (2.5.7-3) unstable; urgency=low

  * debian/patches/07-manpage
    - Removed, since now the config file is in /etc/squid
      (Closes: #284791)

  * debian/patches/23-deny-internal-object-purge
    - Added upstream patch that fixes internal object expiry
      (Closes: #75468)

  * debian/po/de.po
    - Updated German debconf translation (thanks to Jens Nachtigall)
      (Closes: #283848)
    
  * debian/po/nl.po
    - Updated Dutch debconf translation (thanks to Luk Claes)
      (Closes: #281563)

 -- Luigi Gangitano <luigi@debian.org>  Sat, 11 Dec 2004 16:37:23 +0100

squid (2.5.7-2) unstable; urgency=low

  * debian/watch
    - Added debian watch file

  * debian/po/fr.po
    - Updated French debconf translation (thanks to Christian Perrier)
      (Closes: #279304)

  * debian/rules
    - Added wbinfo_group external acl (Closes: #280895)

 -- Luigi Gangitano <luigi@debian.org>  Thu, 28 Oct 2004 16:02:46 +0200

squid (2.5.7-1) unstable; urgency=medium

  * Urgency medium due to security issues
  
  * New upstream release
    - removed patches that have been integrated upstream:
      debian/patches/17-head
      debian/patches/18-no-valid-dir
      debian/patches/19-heap-segfault
      debian/patches/20-ntlm-fetch-string
      debian/patches/21-ntlm-noreuse-leak
    
    - Fixes Denial of Service in SNMP asn_parse_header module
      (Ref: CAN-2004-0918)
      
  * debian/po/nl.po
    - Updated Dutch debconf translation (Thanks to Luk Claes)
      (Closes: #277763)

 -- Luigi Gangitano <luigi@debian.org>  Fri, 22 Oct 2004 17:24:58 +0200

squid (2.5.6-11) unstable; urgency=medium

  * Urgency still medium due to RC bug fix in squid-cgi

  * debian/templates
    - Applied patch to fix typos (thanks to Jens Nachtingal)
      (Closes: #275524)
  
  * debian/po/de.po
    - Updated german debconf translation (thanks to Jens Nachtingall)
      (Closes: #275523)

  * debian/control
    - Fix versioned build-depend on dpatch to fix FTBFS on alpha and sparc

 -- Luigi Gangitano <luigi@debian.org>  Thu,  7 Oct 2004 20:36:55 +0200

squid (2.5.6-10) unstable; urgency=medium

  * Urgency medium due to RC bug fix in squid-cgi

  * debian/patches/22-cachemgr-acl
    - Reworked code flow (thanks to Martin Schulze)

  * debian/cachemgr.conf
    - Added comments at the start (again, thanks to Martin Schulze)

  * debian/control
    - Add version to build-depend on dpatch to fix FTBFS on alpha and sparc

 -- Luigi Gangitano <luigi@debian.org>  Thu,  7 Oct 2004 18:16:53 +0200

squid (2.5.6-9) unstable; urgency=medium

  * Urgency medium due to RC bug fix in squid-cgi

  * debian/patches/22-cachemgr-acl
    - Added config file (/etc/squid/cachemgr.conf) checking to cachemgr.cgi
      (Closes for sid/sarge: #133131)
      Ref: CAN-2004-0913
  
  * debian/cachemgr.conf
    - Added default configuration file for squid-cgi

  * debian/templates
    - Modified squid-cgi template with informations on the new config
      file format
  
  * debian/po/it.po
    - Updated italian debconf translation

 -- Luigi Gangitano <luigi@debian.org>  Wed,  6 Oct 2004 19:47:19 +0200

squid (2.5.6-8) unstable; urgency=medium

  * Urgency medium due to DoS fix in ntlm_auth (this should really make it
    into sarge)

  * debian/po/fr.po
    Updated French translation (Closes: #267577)

  * debian/po/pt_BR.po
    Updated Brazilian Portuguese translation (Closes: #267187)

  * debian/patches/20-ntlm-fetch-string
    Added upstream patch that fixes DoS in ntlm authentication
    (http://www.squid-cache.org/bugs/show_bug.cgi?id=1045)
    Ref: CAN-2004-0832

  * debian/patches/21-ntlm-noreuse-leak
    Added upstream patch that fixes memory leak in ntlm authentication
    with challenge reuse disabled

 -- Luigi Gangitano <luigi@debian.org>  Sat, 28 Aug 2004 18:24:13 +0200

squid (2.5.6-7) unstable; urgency=medium

  * I should have checked upstream patches before -6 upload

  * Still urgency medium because of grave bug and upcoming sarge freeze.

  * debian/patches/19-heap-segfault
    - Added upstream patches to fix segfaults with heap replacement policy

 -- Luigi Gangitano <luigi@debian.org>  Mon,  9 Aug 2004 17:56:06 +0200

squid (2.5.6-6) unstable; urgency=medium

  * Urgency medium because of grave bug and upcoming sarge freeze.

  * debian/config
    - Fix access to config file if config file does not exist
      (Closes: #264595)

 -- Luigi Gangitano <luigi@debian.org>  Mon,  9 Aug 2004 17:36:20 +0200

squid (2.5.6-5) unstable; urgency=low

  * debian/patches/18-no-valid-dir
    - Added upstream patch to fix invalid store with ufs

  * debian/{templates,postinst,config,squid.rc}
    - Added debconf question asking user to confirm before changing
      owner/group of cache_dir (Closes: #259541)
    - Removed permission fix from rc script. Will check only on upgrades
      to avoid messing up filesystem when administrator selects wrong
      values for cache_dir (See #259541 for an example)

  * debian/squid.rc
    - Added support for CHUID in start-stop-daemon (Closes: #137122). Beware
      of /etc/squid/squid.conf permissions if you use it!

  * debian/po/it.po
    - Added italian debconf translation

 -- Luigi Gangitano <luigi@debian.org>  Wed,  4 Aug 2004 15:11:12 +0200

squid (2.5.6-4) unstable; urgency=low

  * debian/patches/17-head
    - Added upstream patch to fix stale informations returned on HEAD request
      (Closes: #222499)

  * debian/patches/09-enable-large-files
    - Re-enable upstream support for logfiles bigger than 2GB. If no side
      effect shows up in a short time I'll close the bug (229327).

  * debian/preinst
    - Removed warning for logfiles bigger than 2GB.

 -- Luigi Gangitano <luigi@debian.org>  Wed,  4 Aug 2004 14:06:52 +0200

squid (2.5.6-3) unstable; urgency=low

  * debian/control
    - Added dependency on coreutils to be abel to use /usr/bin/stat in postinst

 -- Luigi Gangitano <luigi@debian.org>  Tue, 13 Jul 2004 16:56:30 +0200

squid (2.5.6-2) unstable; urgency=low

  * debian/postinst
    - chown directories only if actual owernship doesn't match configfile
    (Closes: #259217)

 -- Luigi Gangitano <luigi@debian.org>  Tue, 13 Jul 2004 15:56:16 +0200

squid (2.5.6-1) unstable; urgency=low

  * New Upstream Release
    - removed patches that have been integrated upstream:
      debian/patches/16-range-offset-limit
      debian/patches/15-dns-localhost
      debian/patches/14-proxy-abuse
      debian/patches/13-ntlm-overflow
      debian/patches/12-post-assert
      debian/patches/11-digest-blank
      debian/patches/10-ntlm-assert

 -- Luigi Gangitano <luigi@debian.org>  Sun, 11 Jul 2004 21:57:48 +0200

squid (2.5.5-7) unstable; urgency=low

  * debian/patches/13-ntlm-overflow
    - Updated to officially released upstrem patch (Closes: #256666)

 -- Luigi Gangitano <luigi@debian.org>  Mon, 28 Jun 2004 20:10:39 +0200

squid (2.5.5-6) unstable; urgency=low

  * debian/{squid.rc,postinst}
    - Fixed permissions on files when upgrading/starting squid. Now it
      uses cache_effective_user and cache_effective_group (Closes: #249292)

  * debian/patches/15-dns-localhost
    - Added upstram patch for missing /etc/resolf.conf (Closes: #222262)

  * debian/patches/16-range-offset-limit
    - Added upstram patch for -1 values in config (Closes: #242141)

 -- Luigi Gangitano <luigi@debian.org>  Fri, 18 Jun 2004 18:30:33 +0200

squid (2.5.5-5) unstable; urgency=high

  * Urgency high because of security patch

  * debian/patches/13-ntlm-overflow
    - Fix for CAN-2004-0541 (Closes: #253406)

  * debian/patches/14-proxy-abuse
    - Added ustream patch for segmentation fault while writing cache.log

 -- Luigi Gangitano <luigi@debian.org>  Thu, 10 Jun 2004 00:17:39 +0200

squid (2.5.5-4) unstable; urgency=low

  * debian/control
    - Removed depdendecies on libssl-dev (linking GPL with SSL is not free)
      (Closes: #251988)

  * debian/rules
    - Removed --enable-ssl from configure
    - Added --enable-carp to configure (Closes: #180884)

  * debian/{preinst,postrm,postinst}
    - Moved configuration directory to /etc/squid (Closes: #83821)

 -- Luigi Gangitano <luigi@debian.org>  Tue,  1 Jun 2004 23:30:32 +0200

squid (2.5.5-3) unstable; urgency=low

  * The 'Thanks to Robert Collins' Release

  * debian/patches/12-post-assert
    - Added upstream patch to fix assertion failure in rare POST/PUT 
      conditions (Closes: #251702)

  * debian/control
    - Added dependencies on libssl-dev

  * debian/rules
    - Added --enable-ssl to configure (Closes: #180886)

  * debian/templates
    - Fixed default for old_version question

 -- Luigi Gangitano <luigi@debian.org>  Mon, 31 May 2004 22:15:15 +0200

squid (2.5.5-2) unstable; urgency=low

  * debian/control
    - Added Suggest: on smbclient (Closes: #240316)

  * debian/patches/10-ntlm-assert.dpatch
    - Added upstream patch to fix assert failure in ntlm_auth (Closes: #243540)

  * debian/patches/11-digest-blank
    - Added upstream patch to fix segmentation fault in digest authentication

 -- Luigi Gangitano <luigi@debian.org>  Mon, 19 Apr 2004 16:27:53 +0200

squid (2.5.5-1) unstable; urgency=low

  * New upstream release
    - Integrated redirect login space patch

  * debian/control
    - Added Suggest: on winbind >= 3.0.2

  * debian/patches/01-cf.data.debian.dpatch
    - Updated path to helpers
    - Added note about ntlm_auth and Samba 3

  * debian/patches/08-redirect_login_space.dpatch
    - Removed since this patch has been integrated upstream

  * debian/po/es.po
  	- Added Spanish translation (Closes: #238024)

  * debian/po/fr.po
  	- Updated French translation (Closes: #238015)

  * debian/po/ja.po
    - Updated Japanese translation (Closes: #237788)

 -- Luigi Gangitano <luigi@debian.org>  Tue, 23 Mar 2004 17:25:16 +0100

squid (2.5.4-5) unstable; urgency=low

  * debian/patches/09-enable-large-files.dpatch
    - Removed since side effects on file-related structures is not 
      verified

  * debian/control
    - Split arch-independent files to squid-common (Closes: #233442)

  * debian/templates
    - Fixed reference to example squid.conf (Closes: #228390)
    - Added warning for logfiles bigger than 2GB

 -- Luigi Gangitano <luigi@debian.org>  Tue, 17 Feb 2004 14:20:28 +0100

squid (2.5.4-4) unstable; urgency=low

  * debian/patches/09-enable-large-files.dpatch
    - Added upstream CVS patch to enable logfiles > 2GB

  * debian/rules
    - Added --enable-large-files option to configure

 -- Luigi Gangitano <luigi@debian.org>  Wed,  4 Feb 2004 14:23:12 +0100

squid (2.5.4-3) unstable; urgency=low

  * debian/po/pt_BR.po
    - Updated translation (Closes: #220909)
  * debian/po/ru.po
    - Updated translation (Closes: #219261)

 -- Luigi Gangitano <luigi@debian.org>  Fri,  5 Dec 2003 02:10:56 +0100

squid (2.5.4-2) unstable; urgency=low

  * The 'Look at BTS before upload' release
  * debian/patches/08-redirect_login_space.dpatch
    - Added upstream patch to fix auth names with space characters
      (Closes: #212639)

 -- Luigi Gangitano <luigi@debian.org>  Thu, 25 Sep 2003 00:50:05 +0200

squid (2.5.4-1) unstable; urgency=low

  * The 'Cake' release
  * New upstream release
    - Added Spanish ERR_TOO_BIG translation (Closes: 143052)
    - Integrated upstream patch 08-deny-info
  * debian/po/fr.po
  	- Updated (Closes: #211812)
  * debian/po/ja.po
    - Added Japanese translation (Closes: #211965)
  * debian/control
    - Bumped Standard-Version to 3.6.1.0 (no not-debconf user interaction
      was used, so no change needed)

 -- Luigi Gangitano <luigi@debian.org>  Thu, 25 Sep 2003 00:31:02 +0200

squid (2.5.3-8) unstable; urgency=low

  * debian/postinst
    - Added checks for unsupported anonymize_headers and fake_user_agent
      options in config file (Closes: #187510)
  * debian/templates
    - Added note about unsupported anonymize_headers and fake_user_agent
      options in config file
  * debian/squid.rc
    - Added check for cache_dir hierarchy and reconstruct it if missing
      (this is on the road to solve #146472, please provide feedback)
  * debian/conffiles
    - Added resolvconf script

 -- Luigi Gangitano <luigi@debian.org>  Tue,  9 Sep 2003 17:20:36 +0200

squid (2.5.3-7) unstable; urgency=low

  * debian/squid.resolvconf
    - Added support for resolvconf (Closes: #200572)
  * debian/rules
    - Install file in /etc/resolvconf/update-libc.d
  * debian/po/nl.po
    - Added dutch debconf translation (Closes: #208239)

 -- Luigi Gangitano <luigi@debian.org>  Tue,  9 Sep 2003 00:39:52 +0200

squid (2.5.3-6) unstable; urgency=low

  * debian/patches/08-deny_info.dpatch
    - Upstream patch fixes segmentation fault when multiple deny_info
      messages are defined in config file (Closes: #203946)

 -- Luigi Gangitano <luigi@debian.org>  Mon, 18 Aug 2003 19:27:46 +0200

squid (2.5.3-5) unstable; urgency=low

  * debian/control
    - Bumped Standard-Version to 3.6.0
  * debian/changelog
    - Converted to UTF-8 to comply with Standard-Version 3.6.0
  * debian/patches/01-cf.data.debian.dpatch
    - Fixed auth_paras paths in examples (Closes: #205222)

 -- Luigi Gangitano <luigi@debian.org>  Tue, 18 Aug 2003 19:08:47 +0200

squid (2.5.3-4) unstable; urgency=low

  * Switch to gettext for debconf templates (Closes: #202271)
  * debian/control
    - Added Build-Depend on po-debconf
  * debian/rules
    - Handle templates merging
  * debian/po/
    - Moved translations from debian/templates (via debconf-gettextize)
  * debian/po/fr.po
    - Added French template translation (Closes: #202272)

 -- Luigi Gangitano <luigi@debian.org>  Mon, 21 Jul 2003 16:20:31 +0200

squid (2.5.3-3) unstable; urgency=low

  * debian/rules
    - fixed configuration options to build null store module on hurd and not
      aufs.
  * debian/postinst
    - use invoke-rc.d instead of starting squid via /etc/init.d/squid
      (Closes: #200096)
  * debian/patches/07-manpage
    - Fixed wrong reference to /etc/squid/squid.conf (Closes: #200081)
  * debian/README.Debian
    - Clean up and resync with the current configuration.
    - Added a note about the example file (Closes: #190970)

 -- Luigi Gangitano <luigi@debian.org>  Mon,  7 Jul 2003 18:36:20 +0200

squid (2.5.3-2) unstable; urgency=low

  * debian/rules
    - added config option to enable digest and ntlm authentication 
      (Closes: #188303)
    - added config option to enable null and aufs store modules
      (Closes: #160028)

 -- Luigi Gangitano <luigi@debian.org>  Fri,  4 Jul 2003 17:28:33 +0200

squid (2.5.3-1) unstable; urgency=low

  * New upstream release
  * debian/patches/07-ldap_auth_unavailable:
    - Removed, patch has been integrated upstream
  * debian/control:
    - Bumped Standar-Version to 3.5.10 (no change needed)

 -- Luigi Gangitano <luigi@debian.org>  Sat, 31 May 2003 18:25:27 +0200

squid (2.5.2-2) unstable; urgency=low

  * debian/control:
    - Added versioned depend on debconf
  * debian/patches/07-ldap_auth_unavailable
    - Added patch to fix ldap_auth helper crash if LDAP server is
      unreachable (closes: #186540)

 -- Luigi Gangitano <luigi@debian.org>  Fri, 21 Mar 2003 13:30:31 +0100

squid (2.5.2-1) unstable; urgency=low

  * New upstream release
  * Bumped Standard-Version to 3.5.9

 -- Luigi Gangitano <luigi@debian.org>  Tue, 18 Mar 2003 15:24:34 +0100

squid (2.5.1-8) unstable; urgency=low

  * Fixed permissions of sample config file (closes: #153649)
  * Use dpatch to handle patches.
  * Fixed missing Section and Priority fields in packages.
  * Added Suggests for logcheck-database. (closes: #125799)
  * Updated FAQs.

 -- Luigi Gangitano <luigi@debian.org>  Wed, 12 Mar 2003 19:49:02 +0100

squid (2.5.1-7) unstable; urgency=low

  * Fixed README.Debian with new configuration
  * Updated patches in debian/patches

 -- Luigi Gangitano <luigi@debian.org>  Sun,  9 Mar 2003 20:21:48 +0100

squid (2.5.1-6) unstable; urgency=low

  * Upload to unstable (closes: #162832)
  * Fixed typo in template

 -- Luigi Gangitano <luigi@debian.org>  Sun,  9 Mar 2003 19:30:49 +0100

squid (2.5.1-5) experimental; urgency=low

  * Set ac_cv_func_setresuid to yes for any arch than sparc (fixes: #171245)
  * Commented default auth_param settings from default configfile
  * Added a debconf warning about new authentication directives
  * Not published

 -- Luigi Gangitano <luigi@debian.org>  Mon, 13 Jan 2003 16:26:57 +0100

squid (2.5.1-4) experimental; urgency=low

  * /etc/init.d/squid cleanup (closes: #153626, #156752)
  * Authentication helpers added:
    - digest_auth: password
    - external_acl: ip_user, ldap_group, unix_group, winbind_group
    - ntlm_auth: SMB, winbind
  * CONFIG FILE FORMAT STILL INCOMPATIBLE WITH 2.4.x

 -- Luigi Gangitano <luigi@debian.org>  Wed, 18 Dec 2002 22:23:52 +0100

squid (2.5.1-3) experimental; urgency=low

  * Moving read-only non-architecture specific file to /usr/share/squid
  * Got the example config file back in place.
  * Updated lintian override
  * Authentication helpers added:
    - basic_auth: YP, MSNT, winbind
  * CONFIG FILE FORMAT STILL INCOMPATIBLE WITH 2.4.x

 -- Luigi Gangitano <luigi@debian.org>  Wed, 11 Dec 2002 23:50:34 +0100

squid (2.5.1-2) experimental; urgency=low

  * Taking over squid with Miquel's approval
  * Cleaning scripts (/usr/doc links removal, etc...) for subsequent
    config file incompatibility handling. Please be patient.
  * CONFIG FILE FORMAT STILL INCOMPATIBLE WITH 2.4.x
  * Bump Standars-Version to 3.5.8
  * Removing custom man page for squid.8 (upstream provides one...)

 -- Luigi Gangitano <luigi@debian.org>  Mon,  2 Dec 2002 00:21:40 +0100

squid (2.5.1-1) experimental; urgency=low

  * Experimental 2.5 version. A lot has changed in the config
    file again; see http://www.squid-cache.org/Versions/v2/2.5/ \
        squid-2.5.STABLE1-RELEASENOTES.html
    for more info. We need to either fix this automatically or
    inform the user about it, but this version doesn't do it yet.
  * Once more: INCOMPATIBLE CONFIG FILE FORMAT CHANGES !!
  * FAQ needs to be updated I guess

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue, 29 Oct 2002 11:01:56 +0100

squid (2.4.7-1) unstable; urgency=high

  * New upstream release, fixes ftp/gopher buffer overflows.
  * Enable ARP ACL support (fixes: #149312)
  * Move examples back to /usr/share/doc/squid/examples.
    Why put them in *&^*&^ /usr/share/squid ? No-one is going
    to find them there. It broke postinst as well (fixes: #151657)
  * Add localhost ACL to defaults, so that after installation
    localhost is allowed to use the cache.
  * Add 631 (cups) to Safe_ports (fixes: #150524)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu,  4 Jul 2002 14:03:16 +0200

squid (2.4.6-1woody1) woody-proposed-updates; urgency=medium

  * Eduard Bloch: NMU, blessed by maintainer
  * Eduard Bloch: Changed default permissions of squid.conf to 600, 
  closes: #122563
  * Eduard Bloch: New debconf question to ask before making changes in squid.conf,
  closes: #144255
  * Eduard Bloch: changed expression not working with recent bash version, 
  potential FTBFS..
  * Eduard Bloch: make debconf-notice urgency=high
  * Martin Loschwitz: debian/control: updated Standards-Version to 3.5.6.0
  * Martin Loschwitz: Fix the debconf-thingie for #144255
  * Martin Loschwitz: fixed some lintian warnings
  * Martin Loschwitz: removed squid.conf from debian/conffiles

 -- Martin Loschwitz <madkiss@madkiss.org>  Thu, 30 May 2002 22:29:00 +0200

squid (2.4.6-1) unstable; urgency=high

  * New upstream version (2.4.5 was never released) that fixes a
    security bug in the built-in DNS resolver.
  * Turn off setresuid code again - on certain platforms (sparc) with
    a 2.2 glibc and a 2.2 kernel it fails at runtime (?!) (closes: #137262)
  * Fix PAM ttl bug (was fixed in 2.4.4, actually) (closes: #128692)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon, 25 Mar 2002 15:47:34 +0100

squid (2.4.4-1) unstable; urgency=high

  * New upstream version with the "Coredup on certain ftp:// style URL's"
    security fix. This version also fixes a memory leak in the SNMP code and
    fixes in SNMP code are always good, certainly right now (closes: #134574)
  * dropped htcp-off patch, now integrated in mainline.
  * Set LC_ALL=POSIX in debian/rules (closes: #130231)
  * Fix regexp in smb_auth.sh to read correct field from nmblookup
    even if a wins server is defined in smb.conf (closes: #131300)
  * Fix crash in debug.c when debug_options set to 11,3 (closes: #129262)
  * remove duplicate diskd_program in src/cf.data.pre (closes: #124300)
  * Add webdav SEARCH support (closes: #128693)
  * Add Russian templates (closes: #114863)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue, 19 Feb 2002 13:35:47 +0100

squid (2.4.3-2) unstable; urgency=medium

  * Change pipeline debug level in pipeline-shutup.patch to 2 instead
    of 3 to match the upcoming squid-2.5
  * Take out icp_hit_stale.patch. It's not needed anymore, it has been
    replaced by the "allow-miss" cache_peer option
  * Change unlinkd to run for diskd too. In the future (2.5, 2.6?)
    aufs might start to use unlinkd as well so then the entire
    unlinkd.patch must be dropped.

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu, 13 Dec 2001 12:57:11 +0100

squid (2.4.3-1) unstable; urgency=medium

  * Add http://www.ircache.net/cgi-bin/cacheability.py to README.Debian
  * Upgrade to 2.4.STABLE3 which fixes some filedescriptor leakage
    and on-disk metadata corruption
  * Compile with netfilter support for 2.4 kernels

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu, 29 Nov 2001 16:09:58 +0100

squid (2.4.2-1) unstable; urgency=high

  * Fix possible DOS attack on squid (closes: #113344)
  * Fix build problems on Hurd (no pthreads) (closes: #108605)
  * Update to latest version in stable series (2.4.STABLE2)
  * Set umask to 027 in /etc/init.d/squid file, so that logfiles
    and datafiles aren't created world-readable (closes: #107073)
  * logrotate now shuts up if squid isn't running (closes: #105543)
  * Install pam_auth module executable by user proxy, setgid shadow
    so that it can read shadow password files (closes: #98694)
  * Add brazilian debconf translation (closes: #105288)
  * Drop LDAP searchbase patch - something similar is now included
    in the upstream. Unfortunately with an incompatible syntax,
    the debian patch uses "ldapauth server searchbase" the new
    syntax is now "ldapauth -b searchbase server".

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon,  1 Oct 2001 14:52:38 +0200

squid (2.4.1-6) unstable; urgency=low

  * Add port 901 (SWAT) to Safe_ports (closes: #99384)
  * Add "sharedscripts" to logrotate script (closes: #99356, #99230)
  * Fix type in config file (closes: #98992)
  * Update manpage (closes: #98294)
  * Update usage summary in src/main.c (closes: #98293)
  * Up max# of file descriptors in squid to 4096 (closes: #102483)
  * Let squid-cgi depend on httpd|webmin-squid (closes: 100769)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue,  3 Jul 2001 15:33:54 +0200

squid (2.4.1-5) unstable; urgency=low

  * Fix prerotate script in logrotate file (closes: #97247)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon, 14 May 2001 13:12:30 +0200

squid (2.4.1-4) unstable; urgency=low

  * Applied the patches from http://www.squid-cache.org/Versions/v2/2.4/bugs/
  * Call sarg-maint in prerotate (closes: #93352). Also now conflicts
    with sarg (<< 1.1.1-2) so that a sarg update is forced.
  * Added German translation to debconf templates (closes: #93838)
  * Compile with referer and useragent log (closes: #95094)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue,  8 May 2001 13:47:18 +0200

squid (2.4.1-3) unstable; urgency=low

  * Now that pipelining is turned back on, "apt" is using it heavily
    and that results in debugging garbage in the logfiles. Added
    a patch ("pipeline-shutup.patch") to turn that off (closes: #91213)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue, 27 Mar 2001 17:17:35 +0200

squid (2.4.1-2) unstable; urgency=low

  * Added libpam0g-dev to Build-Depends (closes: #90935)
  * Added Depends: on logrotate, fix logrotate script (squid -k rotate)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon, 26 Mar 2001 23:06:40 +0200

squid (2.4.1-1) unstable; urgency=low

  * New upstream release.
  * Uses mkstemp (closes: #82758)
  * Start using debconf
  * Removed while loop from RunCache
  * Check squid.conf for 2.1/2.2 stuff and upgrade (closes: #87754)
  * Build with --enable-removal-policies=lru,heap (closes: #79205)
  * Use logrotate instead of home-brew cron script

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Fri, 23 Mar 2001 04:43:44 +0100

squid (2.3.4-2) unstable; urgency=low

  * Add "exit 0" to cron.daily script (closes: #76734)
  * By default allow cache access to clients from localhost (closes: #60850)
  * Add customized LDAP module (closes: #68352).

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon, 27 Nov 2000 18:02:39 +0100

squid (2.3.4-1) unstable; urgency=low

  * Take the plunge and update to 2.3.STABLE4 even though Henrik
    Nordstrom says he doesn't really trust it. Time will tell I guess.
    Anyway it isn't that big an issue for woody. Hopefully 2.4 will
    be released in time for woody. (closes: #60409)
  * Applied squid-2.3.DEVEL3.httpd_accel_single_host-2.patch
  * Applied squid-2.3.STABLE4-hno.20000819.patch
  * Don't use append_domain for "localhost" (closes: #55974)
  * Include some redirector examples (closes: #58767)
  * Turn off pinger (closes: #65490)
  * netdbExchangeHandleReply() fixed by new upstream version (closes: #66124)
  * Apply icp_hit_stale patch by herbert@gondor.apana.org.au (closes: #67251)
  * Read SMBPASS with read -r in smb_auth.sh (closes: #67418)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu,  9 Nov 2000 17:45:06 +0100

squid (2.2.5-3) frozen unstable; urgency=medium

  * With a 2.2.14 kernel, the Alpha version works fine
    (closes: #45003,#45036,#45043)
  * Squid using only a few dirs is normal (closes: #49282)
  * Syslog as LOG_DAEMON instead of LOCAL4, also delete LOG_CONSOLE
    (closes: #53163)
  * Remove comment in sample squid.conf about setting dns_children to 0
    (closes: #54568)
  * Fix postinst (closes: #54692)
  * New /etc/init.d/squid that doesn't use RunCache (closes: #55315)
  * Always use httpd_accel_host even if httpd_accel_uses_host_header is set

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed,  2 Feb 2000 20:43:28 +0100

squid (2.2.5-2) unstable; urgency=low

  * Fix potential security bug. When using external authenticators
    sometimes a user could get access to sites he shouldn't have access
    to. Applied squid-2.2.stable5-newlines_in_auth.patch (closes: #49756)
  * Also applied squid-2.2.stable5-ipcache_negative.patch
  * And squid-2.2.stable5-no_cache.patch
  * And squid-2.2.STABLE5.ignore_host_header.patch (closes: #50292)
  * Added paragraph about unautorized use of squid-cgi to README.cachemgr
  * Set SHELL to /bin/bash in debian/rules (closes: #50551)
  * init.d script now greps squid.conf for cache_dir (closes: #47247)
  * Enabled cache digests (closes: #47292, #47293)
  * Use unlink() instead of safeunlink to remove pidfile (closes: #40501)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Sat, 20 Nov 1999 15:20:20 +0100
    
squid (2.2.5-1) unstable; urgency=low

  * New upstream release
  * enable USE_PROPER_MUTEX in src/aiops.c as per recommendation
    of Henrik Nordstrom (see also debian/proper-mutex.patch).
  * Use poll() instead of select()
  * Add README.Debian (closes: #38592)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu,  7 Oct 1999 13:25:33 +0200

squid (2.2.4-1) unstable; urgency=low

  * New upstream version.
  * Fixes bugs:
    #40418: squid: cannot compile from source
    #41098: cron jobs (squid)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 14 Jul 1999 14:46:11 +0200

squid (2.2.3-1) unstable; urgency=low

  * New upstream version.
  * Enable delay pools option
  * Fixes bugs:
    #36899: squid: DEFAULT_SQUID_ERROR_DIR (defines.h)
    #37077: squid: getpwnam authmodule missing
    #37488: squid: htcp_port

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Fri, 28 May 1999 12:09:14 +0200

squid (2.2.2-1) unstable; urgency=low

  * New upstream version.
  * Fixes bugs:
    #36267 squid: cron.daily/squid still exists after package removal
    #36029 squid: Please reenable snmp support
    #34909 Squid's cron job seems to break policy 4.4
    #36013: squid: authentication modules
    #32203 squid: squid crashes when prefetching http 1.1 pipelined requests

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 21 Apr 1999 11:41:55 +0200

squid (2.1.2-1) frozen unstable; urgency=medium

  * Includes squid-2.1.PATCH2-clientHandleIMSReply-leak.patch
  * Fix include/autoconf.h after configure, so that HAVE_SETRESUID is
    set to 0 again (ugh, libc6 is broken, and the squid workaround
    is broken too ....)
  * Make "pinger" program setuid root.
  * Rewrote /etc/init.d/squid and RunCache
  * Warn in postinst for squid.conf defaults
  * Upload to both frozen and unstable, since I fixed a lot of
    long-standing bugs with this release.
  * Fixes:
    #22586: Permissions on logfiles [was: Re: Suggestion for Squid]
    #23427: start/stop script provides no means to add cmd line options to squid
    #27804: squid: depends on libc >= 2.0.7u
    #30436: default /etc/squid.conf file rejects connections from all machines.
    #30802: man page glitches

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu, 17 Dec 1998 13:32:04 +0100

squid (2.1.1-1) unstable; urgency=low

  * New upstream version
  * Added latest FAQ
  * Added patch for "ftp site full" bug

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed,  2 Dec 1998 17:48:03 +0100

squid (2.0.2-1) unstable; urgency=low

  * Upgraded to 2.0.PATCH2
  * Added -N option to squid invocation in RunCache
  * Added latest FAQ, updated all other docs for squid-2.0
  * Compiled without SNMP support
  * Fixes:
    #27905: squid spreads out an error

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 14 Oct 1998 15:08:45 +0200

squid (2.0-1) unstable; urgency=low

  * Official release version.
  * Added a small patch/hack to allow spaces in URLs
  * Changed default start level to 30 to at least accomodate
    msqld (see Bug#27660) a bit
  * Fixes squid-1.2 bugs:
    #20357: squid: Bashism
    #21601: squid: doesn't wait long enough when stopping
    #23232: squid: RunCache doesn't close stdin, stdout, or stderr
    #27444: squid repeats an error message nearly endless

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu,  8 Oct 1998 23:24:28 +0200

squid (1.2-beta25-1) experimental; urgency=low

  * New upstream version

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Sat, 26 Sep 1998 11:49:35 +0200

squid (1.2-beta23-1) experimental; urgency=low

  * New upstream version
  * Added patch sets 1, 2 and 3

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu, 30 Jul 1998 18:05:34 +0200

squid (1.2-beta22-2) experimental; urgency=low

  * Fix logfile rotation problem
  * Added squid-1.2.beta22.aio_fd_leak.patch from Henrik Nordstrm,
    see http://hem.passagen.se/hno/squid/
  * Use SIGQUIT/SIGTRAP instead of USR1/USR2 which are reserved
    for LinuxThreads

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon,  6 Jul 1998 14:26:20 +0200

squid (1.2-beta22-1) experimental; urgency=low

  * Experimental beta version.

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu,  4 Jun 1998 17:20:01 +0200

squid (1.1.21-1) frozen unstable; urgency=medium

  * New bugfix-only upstream release
  * Added latest FAQ
  * Updated squidclient manual page
  * Lintian-clean
  * Fixes bugs:
    #18428: squid: it possible to bypass ACLs
    #17719: squid-cgi: /usr/doc/squid-cgi/copyright.gz should not be gzipped
    #18168: squid-novm: documentation request

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Fri, 20 Mar 1998 13:55:08 +0100

squid (1.1.20-2) unstable; urgency=low

  * Now really fixed #16863: squid: does not recognize Host: header
  * Added /usr/doc/squid/README.transparent-proxy
  * Fixes:
    #17057: squid: squid still does not recognize hosts: header
    #14489: /usr/doc/$(PACKAGE)/copyright should not be compressed

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 21 Jan 1998 16:22:44 +0100

squid (1.1.20-1) unstable; urgency=low

  * New upstream version.
  * Rewrote squid manpage, added squid-cgi manpage
  * Now includes HTML FAQ
  * Fixed bugs:
    #16864: squid-cgi: Variety of issues
    #16451: squid: /etc/cron.daily/squid is installed without execute permissio
    #16716: squid: executable bit missing on /etc/cron.daily/squid
    #16863: squid: does not recognize Host: header
  * Cristoph: that last one was fixed in the upstream source. You need to
    set "httpd_accel_uses_host_header" to "on" in squid.conf for it to work.

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue, 13 Jan 1998 00:37:12 +0100

squid (1.1.17-1) unstable; urgency=low

  * New upstream version.
  * Applied ftpget.patch from Duane W.
  * Added 2 binary packages: squidclient and squid-cgi
  * Fixed debian/ files so that it can be used to build both squid
    and squid-novm by only editting one var at the top of debian/rules
  * Fixed bugs:
     #10180: squid: you can't assume a log rotate depth of 7!
     #11894: squid uses pidof
     #10852: squid: squid-cgi package needed

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu, 30 Oct 1997 14:47:07 +0100

squid (1.1.16-1) unstable; urgency=low

  * New upstream version
  * Compiled for glibc
  * Call "squid -z" in postinst script to create directory structure
  * fix pre/post inst/rm script to have a "case" statement with all
    possible dpkg-arguments (every debian package should do this)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue,  9 Sep 1997 11:20:36 +0200

squid (1.1.11-1) unstable; urgency=low

  * New upstream version.
  * Applied 2 patches from squid-1.1.11 page at http://squid.nlanr.org/
    (long-dns-coredump.patch and config.h.in.patch)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Fri, 25 Jul 1997 00:24:30 +0200

squid (1.1.10-1) unstable; urgency=low

  * Upgraded to new upstream version 1.1.10
  * Updated default config file to latest sample version
  * Removed Recommends: web-browser, apache
  * Added manpage for squidclient

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu, 8 May 1997 16:27:44 +0200

squid (1.1.9-1) unstable; urgency=low

  * Upgraded to new upstream version 1.1.9, plus maintenance patch.
  * Use max. 1024 fd's if available instead of 256
  * Updated default config file to latest sample version
  * Updated FAQ to latest version
  * Compile in PROXY_AUTH code
  * Fixed start/stop script to wait for squid to die at "stop" action

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon, 14 Apr 1997 13:49:56 +0200

squid (1.1.1-1) unstable; urgency=low

  * Upgraded to new upstream version 1.1.1
  * Fixed a bug with SQUID_MAXFD
  * Beware: this version is NOT compatible with squid-1.0.x

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 18 Dec 1996 13:20:30 +0100

squid (1.0.20-1) frozen unstable; urgency=high

  * Upgraded to 1.0.20 - fixes SERIOUS trouble in 1.0.19
  * Changed default log_rotate factor to 0
  * cron script knows about this
  * cron script is conffile now

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Mon, 11 Nov 1996 11:57:05 +0100

squid (1.0.19-1) unstable; urgency=low

  * Upgraded to 1.0.19

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 30 Oct 1996 11:54:25 +0100

squid (1.0.18-1) unstable; urgency=low

  * Upgraded to 1.0.18

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Tue, 29 Oct 1996 12:23:00 +0100

squid (1.0.17-1) unstable; urgency=low

  * Upgraded to 1.0.17
  * Fixed Bug#4613 (no conffiles)

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Sat, 28 Sep 1996 16:06:54 +0200

squid (1.0.16-1) unstable; urgency=low

  * Upgraded to 1.0.16
  * I took over this package from Craig Sanders <cas@taz.net.au>
  * New source format

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Fri, 20 Sep 1996 13:00:04 +0200

squid (1.0.12-1) unstable; urgency=low

  * Upgraded to 1.0.12
  * Changed cron.daily file again.
  * Still an Interim release. (perhaps I'll take over).
    Maintainer: Craig Sanders <cas@taz.net.au>
    Interim-By: Miquel van Smoorenburg <miquels@cistron.nl>

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 14 Aug 1996 12:13:24 +0200

squid (1.0.7-1) unstable; urgency=low

  * Upgraded to 1.0.7
  * Added cron.daily file
  * squid runs as "proxy.proxy" user now.
  * Interim release.
    Maintainer: Craig Sanders <cas@taz.net.au>
    Interim-By: Miquel van Smoorenburg <miquels@cistron.nl>

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Wed, 14 Aug 1996 12:13:24 +0200

squid (1.0.beta16) stable; urgency=low

  * First debian release
  * added debian package information

 -- Craig Sanders <cas@taz.net.au>  Fri, 14 Jun 1996 18:55:45 +0200
